<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tammy Zhang - CESM2 LENS2</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Figtree:ital,wght@0,300..900;1,300..900&family=Fira+Mono:wght@400;500;700&family=Libre+Bodoni:ital@1&family=Lora:wght@400..700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="detail.css">
    <link rel="stylesheet" href="../styles.css">
    <link rel="icon" type="image/x-icon" href="../favicon.ico">
</head>
<body>
    <div class="hamburger" id="hamburger">&#9776;</div>
    <div class="lora-regular" id="nav">
        <span id="close">&times;</span>
        <div class="vertical-line">
        </div>
        <nav style="width: 126.5px; text-align: center;">
            <a class="home-link" href="../#projects">
                <svg class="home-arrow" viewBox="0 0 17 17" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="si-glyph si-glyph-triangle-left" fill="#ffffff" stroke="#ffffff"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <title>1235</title> <defs> </defs> <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <path d="M3.446,10.052 C2.866,9.471 2.866,8.53 3.446,7.948 L9.89,1.506 C10.471,0.924 11.993,0.667 11.993,2.506 L11.993,15.494 C11.993,17.395 10.472,17.076 9.89,16.495 L3.446,10.052 L3.446,10.052 Z" fill="#ffffff" class="si-glyph-fill"> </path> </g> </g></svg>
                 home
            </a>
          <ul id="nav-icons">
              <li><a href="mailto:tz332@cornell.edu"><img src="../images/email.png" alt="email icon" width="35" height="35" title="Email me at tz332@cornell.edu"/></a></li>
              <li><a href="https://www.linkedin.com/in/tammy-zhang/" target="_blank"><img src="../images/linkedin.png" alt="linkedin" width="35" height="35" title="Link to my LinkedIn profile"/></a></li>
              <li><a href="https://github.com/tammyzhang-1" target="_blank"><img src="../images/github.png" alt="github" width="35" height="35" title="Link to my GitHub profile" /></a></li>
              <li><a href="../documents/Tammy_Zhang_Resume.pdf" target="_blank"><img src="../images/resume.png" alt="resume" width="45" height="45" title="See my resume" /></a></li>
          </ul>
        </nav>
        <div class="vertical-line"></div>
    </div>

    <main class="detail-page">
        <header class="page-header">
            <h1>CESM2 LENS2 Dashboard</h1>
            <h2>Visualizing gigabytes of climate model outputs in a full-stack web app</h2>
            <p class="top-links"><a target=_blank href="https://github.com/NCAR/d3-CESM-tiling">Code <?xml version="1.0" ?><svg class="external-link-icon" fill="none" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M10 6H6C4.89543 6 4 6.89543 4 8V18C4 19.1046 4.89543 20 6 20H16C17.1046 20 18 19.1046 18 18V14M14 4H20M20 4V10M20 4L10 14" stroke="#4A5568" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"/></svg></a>            </p>
        </header>   
        <div id="detail-tags">
            <div class="tag">Work Experience</div>
            <div class="tag">Interactive Data Visualization</div>
            <div class="tag">Full Stack Web Development</div>
            <div class="tag">Python</div>
            <div class="tag">Flask</div>
            <div class="tag">JavaScript</div>
            <div class="tag">D3.js</div>
        </div>
        <div class="detail-intro detail-image">
            <video autoplay playsinline muted loop>
                <source src="../images/portfolio/cesm2-d3/1.mp4" type="video/mp4">
            </video>
        </div>
        <div class="detail-intro detail-image">
            <video autoplay playsinline muted loop>
                <source src="../images/portfolio/cesm2-d3/2.mp4" type="video/mp4">
            </video>
        </div>
        <div class="detail-intro" style="padding-top: 1rem; padding-bottom: 0rem;">
            <p>Developed during Summer 2023 while working at the NSF National Center for Atmospheric Research, this project aimed to visualize datasets produced by <a href="https://www.cesm.ucar.edu/community-projects/lens2">Community Earth System Model 2 Large Ensemble (CESM2 LENS2)</a>.</p>
            <p>CESM2 LENS2 is a climate modeling project that aims to simulate climate variability and change under different scenarios; outputs are generated in a one degree spatial resolution covering the period 1850-2100 over the entire globe.</p>
            <p>Climate models like this one generate overwhelming amounts of data. After selecting 8 variables of interest from a total of 2,300 possible options, the raw files were still almost 2 gigabytes in size.</p>
            <p>The challenge for this project was to see if there were ways to feasibly visualize these files in their original NetCDF format directly in the browser.</p>
        </div>
        <div class="detail-intro detail-image">
            <video autoplay playsinline muted loop>
                <source src="../images/portfolio/cesm2-d3/3.mp4" type="video/mp4">
            </video>
        </div>
        <div class="detail-intro" style="padding-top: 1.5rem; padding-bottom: 0rem;">
            <p>NetCDF is a standard format for a lot of atmospheric data since it nicely describes multidimensional variables, such as points that have a longitude, latitude, and time associated with them.</p>
            <p>
                A major challenge of interactive visualization with this file type is that it doesn't naturally play well with JavaScript, the core language of the web. While it is possible to use a Python script to convert NetCDFs to the more web-friendly GeoJSON,
                something I've done for other projects like <a href="hurricanes.html">Hurricanes</a>, the sheer size of the files in this use case made this preprocessing impractical.
            </p>
            <p>However, even though NetCDFs are difficult to handle with JavaScript, they're great to work with in Python - especially when we're able to use libraries specialized for handling multidimensional data like pandas, NumPy, and Xarray.</p>
            <p>As a result, I was tasked with seeing if it would be possible to build a full-stack web application with a Python backend that could directly help render NetCDF files on the fly.</p>
        </div>
         <div class="detail-intro detail-image">
            <video autoplay playsinline muted loop>
                <source src="../images/portfolio/cesm2-d3/4.mp4" type="video/mp4">
            </video>
        </div>
        <div class="detail-intro" style="padding-top: 1.5rem; padding-bottom: 0rem;">
            <p>
                I looked into a variety of approaches being used in the web mapping community at the time, and became interested in how many people focused on "chunking" datasets in ways that align naturally with the "tiles" of a map. 
                Interestingly, using this kind of approach can allow us to avoid using raster tiles - which don't lend themselves well to client-side interactivity and also requires storing an intermediary data format.
            </p>
            <p>
                Many experiments and iterative prototypes later, I found that one functioning approach was to use a Python backend that can "slice" up a requested NetCDF file into smaller chunks, each chunk corresponding to a tile in Leaflet's GridLayer method.
                In this way, each map tile in the frontend makes a request to the backend for the data it needs - once it gets the data, it can use D3.js to construct a continuous grid that dynamically updates as the user interacts with the map.
                The full breakdown of how each user action is handled in the frontend and backend can be seen in the following schematics.
            </p>
        </div>
        <div class="detail-intro detail-image">
            <img src="../images/portfolio/cesm2-d3/1.png" alt="CESM2 LENS2" />
        </div>
         <div class="detail-intro detail-image">
            <img src="../images/portfolio/cesm2-d3/2.png" alt="CESM2 LENS2" />
        </div>
        <div class="detail-intro" style="padding-top: 1.5rem; padding-bottom: 0rem;">
            <p>
                I first developed a working version using Flask for simplicity, but later collaborated with another student working at NSF NCAR to build <a href="https://github.com/NCAR/LENS2-Dashboard-D3">a version using FastAPI instead</a> for better scalability.
                I also presented my research during the course of this project at the American Meteorological Society's Annual Meeting and Student Conference in February 2024, comparing it with <a href="utorview-react.html">another visualization</a> I completed that relied fully on client-side JavaScript.
            </p>
        </div>
         <div class="detail-intro detail-image">
            <img src="../images/portfolio/utorview-react/5.png" alt="React tornado viewer and CESM2 LENS2" />
        </div>
        <footer>
            <p class="fira-mono-regular">¬© 2025 Tammy Zhang. Site in progress! üçµ</p>
        </footer>
    </main>
</body>
</html>


<script>
    const hamburger = document.getElementById('hamburger');
    const sidebar = document.getElementById('nav');
    const close = document.getElementById('close');

    hamburger.addEventListener('click', () => {
        sidebar.classList.toggle('open');
        hamburger.classList.toggle('hidden');
    });

    close.addEventListener('click', () => {
        sidebar.classList.toggle('open');
        hamburger.classList.toggle('hidden');
    });
</script>